<div class="w-full h-full">

  <ion-header mat-dialog-title class="text-center p-2 text-black">
    myDay {{this.getCalendarFormDatePretty()}}
  </ion-header>
  <br />

  <mat-dialog-content class="mat-typography">

    <form #contactForm="ngForm" (ngSubmit)="this._calendarMainFormService.submitForm(contactForm)">

      <div *ngFor="let task of this._calendarMainFormService.formData?.tasks; let i = index"
        class="form-group w-full flex flex-col ">

        <label id="name" name="task.title" for="traithead" class="flex flex-row items-center">
          {{task.title}}
          @if (this._showDeleteButtonOnTasks) {
            <ion-icon name="close-sharp" color="danger" style="font-size: 24px;" (click)="this.removeTaskById(task)"></ion-icon>
          }
        </label>

        <input-slide ngDefaultControl [result]="task.result" name="result" class="w-full"
          (resultEvent)="this._calendarMainFormService.updateTaskResultItem($event, i)">
        </input-slide>
      </div>

      <div>
        <happy-component
          [inputValue]="this._calendarMainFormService.formData && this._calendarMainFormService.formData.mood!"
          (resultEvent)="this._calendarMainFormService.updateHappynessResult($event)">
        </happy-component>
      </div>

      <mat-dialog-actions align="start">
        <button mat-button type="button" style="border: 1px darkgreen solid;" (click)="this.openAddTaskForm()">
          Add Task
        </button>
        <button mat-button type="button" style="border: 1px darkred solid;" (click)="this.enableDeleteTaskFlow()">Remove Task</button>
      </mat-dialog-actions>

      <mat-dialog-actions align="end">
        <button mat-button mat-dialog-close>Cancel</button>
        <button mat-button type="submit" cdkFocusInitial [disabled]="!contactForm.valid">Submit</button>
      </mat-dialog-actions>

    </form>

  </mat-dialog-content>

</div>